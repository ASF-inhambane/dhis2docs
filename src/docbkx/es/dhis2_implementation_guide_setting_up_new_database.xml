<?xml version='1.0' encoding='UTF-8'?>
<!-- This document was created with Syntext Serna Free. -->
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN" "http://www.oasis-open.org/docbook/xml/4.4/docbookx.dtd" []>
<chapter>
  <title>Instalación de una nueva base de datos</title>
  <para>La aplicación DHIS 2 viene con un set de herramientas para la recogida de datos, validación, reporte y análisis, pero los contenidos de la base de datos, como son qué datos registrar, de dónde vienen los datos, y en qué formato, dependen del contexto en que usemos la aplicación. Tendremos que insertar estos metadatos en la aplicación antes de poder usarlos, y esto es posible hacerlo mediante el interfaz de usuario sin necesidad de programación. Lo que sí se necesita es conocer en profundidad el contexto local del SIS así como comprender los principios de diseño de DHIS 2 (véase el capítulo "Principios conceptuales de diseño en DHIS 2"). Esto es lo que llamamos proceso inicial para el diseño y personalización de la base de datos. Este capítulo da una perspectiva general del proceso de personalización y explica brevemente los pasos requeridos, con el objetivo de ofrecer a los implementadores una visión de lo que requiere este proceso. Otros capítulos de este manual entran con mayor detalle en algunos de estos pasos concretos. </para>
  <section>
    <title>Estrategias para empezar</title>
    <para>La sección siguiente describe una lista de consejos para arrancar con buen pie en el desarrollo de una nueva base de datos.</para>
    <orderedlist>
      <listitem>
        <para>Montar cuanto antes una base de datos demostrativa, que incluya ejemplos de reportes, gráficas, dashboard, SIG, formularios de entrada de datos. Utilizar datos reales, idealmente a nivel nacional, pero no necesariamente datos a nivel de establecimientos de salud.</para>
      </listitem>
      <listitem>
        <para>Poner la base de datos demostrativa accesible desde Internet. Una manera de acelerar este proceso puede ser alojarla en un servidor web con un proveedor de servicios externo, incluso si es solo temporal. Esto crea una buena plataforma colaborativa y una herramienta estupenda de difusión para lograr la aprobación y participación de los diferentes actores relevantes para el SIS.</para>
      </listitem>
      <listitem>
        <para>Realizar a continuación un proceso de diseño de la base de datos más elaborado. Si es posible, algunas partes de la demo pueden reutilizarse.</para>
      </listitem>
      <listitem>
        <para>Asegurarse de que contamos con un equipo local multidisciplinar, con capacidades y formación diversas: salud pública, administración de sistemas, gestión de TIC y gestión de proyectos.</para>
      </listitem>
      <listitem>
        <para>Utilizar la fase de personalización y diseño de la base de datos como un proceso de aprendizaje y de formación para cultivar capacidades locales mediante "aprender haciendo".</para>
      </listitem>
      <listitem>
        <para>El equipo nacional de implementación deberá liderar el proceso de diseño de la base de datos pero siempre apoyado y guiado por implementadores más experimentados.</para>
      </listitem>
    </orderedlist>
  </section>
  <section>
    <title>¿Un proceso controlado o un proceso abierto?</title>
    <para>Dado que el proceso de personalización de DHIS 2 suele ser y debe ser un proceso colaborativo, es importante tener en mente qué partes de la base de datos son más críticas que otras, por ejemplo para evitar que usuarios no capacitados corrompan los datos. Normalmente es mucho más crítico personalizar una base de datos que ya tiene valores de datos, que trabajar con metadatos en una base de datos "vacía". Aunque parezca extraño, mucha de la personalización tiene lugar después del primer registro de datos o de la primera importación. Es entonces cuando por ejemplo se añaden nuevas reglas de validación, indicadores y capas de reporte.</para>
    <para>El error más crítico que se puede cometer aquí es modificar los metadatos que describen directamente los valores de datos, que como hemos visto anteriormente, son los <emphasis role="italic">elementos de datos</emphasis> y las <emphasis role="italic">unidades organizativas</emphasis>. Cuando modificamos estas definiciones es importante pensar en cómo afectarán los cambios al significado de los valores de datos que ya estaban en el sistema (recogidos utilizando las definiciones anteriores). Es recomendable limitar quién puede editar estos metadatos fundamentales, mediante la gestión de roles de usuario, para restringir el acceso al equipo experto de personalización.</para>
    <para>Otras partes del sistema que no están directamente acopladas a los valores de datos son mucho menos críticas y podemos experimentar con ellas. Es más, en las fases incipientes de implementación, deberíamos  animar a los usuarios a probar cosas nuevas y así provocar el aprendizaje. Esta premisa es válida para los grupos, las reglas de validación, las fórmulas de indicadores, las gráficas y los reportes. Todos ellos pueden borrarse o modificarse posteriormente con facilidad sin afectar a los valores de datos, de modo que no son partes críticas del proceso de personalización.</para>
    <para>Por supuesto, cuando posteriormente llevamos el proceso de personalización a fase de producción, deberemos ser todavía más cautos al permitir acceso a la edición de metadatos, ya que cualquier cambio, incluso en los menos críticos, puede afectar a cómo se agregan o se presentan los datos en reportes (aunque los datos en bruto por debajo estén correctos y a salvo).
     .</para>
  </section>
  <section>
    <title>Pasos para desarrollar una base de datos</title>
    <para>Esta sección describe los pasos concretos para desarrollar una base de datos partiendo de cero.</para>
    <section>
      <title>Jerarquía organizativa</title>
      <para>La jerarquía organizativa define la organización en DHIS 2: los establecimientos de salud, las áreas administrativas y otras áreas geográficas utilizadas en la recolección y el análisis de datos. Esta dimensión de los datos se define como una jerarquía con una unidad raíz (ej. Ministerio de Salud) y diversos niveles y nodos debajo. Cada nodo en esta jerarquía es lo que en DHIS 2 llamamos unidad organizativa. El diseño de esta jerarquía determinará las unidades geográficas de análisis disponibles a los usuarios al momento en que los datos son registrados y agregados en esta estructura. Solo puede haber una jerarquía organizativa en el sistema, de modo que deberemos considerar cuidadosamente cómo estructurarla.</para>
      <para>Es posible modelar jerarquías adicionales (tales como límites administrativos paralelos al Sector Salud) utilizando grupos organizativos y sets de grupo, pero la jerarquía organizativa es el vehículo principal para la agregación de datos en una dimensión geográfica. Normalmente las jerarquías organizativas nacionales en Salud Pública tienen entre 4 y 6 niveles, pero DHIS soporta cualquier cantidad de niveles. La jerarquía se construye con relaciones padre-hijo, por ejemplo: una unidad País o Ministerio de Salud (la raíz) puede tener 8 unidades hijo (provincias), y cada provincia (en nivel 2) puede tener a su vez 10 ó 15 distritos como nodos hijo. Generalmente los establecimientos de salud estarán colocados en el nivel más bajo, pero también podemos colocarlos en niveles más altos como sucederá con los hospitales provinciales o nacionales, de modo que es posible tener árboles organizativos asimétricos (ej. un nodo hoja puede estar colocado en el nivel 2 mientras la mayoría de nodos hoja se encuentran en el nivel 5). </para>
    </section>
    <section>
      <title>Elementos de datos</title>
      <para>The Data Element is perhaps the most important building block of a DHIS 2 database. It represents the <emphasis role="italic">what</emphasis> dimension, it explains what is being collected or analysed. In some contexts this is referred to an indicator, but in DHIS 2 we call this unit of collection and analysis a data element. The data element often represents a count of something, and its name describes what is being counted, e.g. &quot;BCG doses given&quot; or &quot;Malaria cases&quot;. When data is collected, validated, analysed, reported or presented it is the data elements or expressions built upon data elements that describes the WHAT of the data. As such the data elements become important for all aspects of the system and they decide not only how data is collected, but more importantly how the data values are represented in the database, which again decides how data can be analysed and presented.</para>
      <para>A best practice when designing data elements is to think of data elements as a unit of data analysis and not just as a field in the data collection form. Each data element lives on its own in the database, completely detached from the collection form, and reports and other outputs are based on data elements and expressions/formulas composed of data elements and not the data collection forms. So the data analysis needs should drive the process, and not the look an feel of the data collection forms. </para>
    </section>
    <section>
      <title>Sets de datos y formularios de entrada de datos</title>
      <para>All data entry in DHIS 2 is organised through the use of data sets. A data set is a collection of data elements grouped together for data collection, and in the case of distributed installs they also define chunks of data for export and import between instances of DHIS 2 (e.g. from a district office local installation to a national server). Data sets are not linked directly to the data values, only through their data elements and frequencies, and as such a data set can be modified, deleted or added at any point in time without affecting the raw data already captured in the system, but such changes will of course affect how new data will be collected.</para>
      <para>Once you have assigned a data set to an organisation unit that data set will be made available in Data Entry (under Services) for the organisation units you have assigned it to and for the valid periods according to the data set&apos;s period type. A default data entry form will then be shown, which is simply a list of the data elements belonging to the data set together with a column for inputting the values. If your data set contains data elements with categories such as age groups or gender, then additional columns will be automatically generated in the default form based on the categories. In addition to the default list-based data entry form there are two more alternatives, the section-based form and the custom form. Section forms allow for a bit more flexibility when it comes to using tabular forms and are quick and simple to design. Often your data entry form will need multiple tables with subheadings, and sometimes you need to disable (grey out) a few fields in the table (e.g. some categpories do not apply to all data elements), both of these functions are supported in section forms. When the form you want to design is too complicated for the default or section forms then your last option is to use a custom form. This takes more time, but gives you full flexibility in term of the design. In DHIS 2 there is a built in HTML editor (FcK Editor) for the form designer and you can either design the form in the UI or paste in your html directly (using the Source window in the editor. </para>
    </section>
    <section>
      <title>Reglas de validación</title>
      <para>Once you have set up the data entry part of the system and started to collect data then there is time to define data quality checks that help to improve the quality of the data being collected. You can add as many validation rules as you like and these are composed of left and right side expressions that again are composed of data elements, with an operator between the two sides. Typical rules are comparing subtotals to totals of something. E.g. if you have two data elements &quot;HIV tests taken&quot; and &quot;HIV test result positive&quot; then you know that in the same form (for the same period and organisational unit) the total number of tests must always be equal or higher than the number of positive tests. These rules should be absolute rules meaning that they are mathematically correct and not just assumptions or &quot;most of the time correct&quot;. The rules can be run in data entry, after filling each form, or as a more batch like process on multiple forms at the same time, e.g. for all facilities for the previous reporting month. The results of the tests will list all violations and the detailed values for each side of the expression where the violation occurred to make it easy to go back to data entry and correct the values.</para>
    </section>
    <section>
      <title>Indicadores</title>
      <para>Indicators represent perhaps the most powerful data analysis feature of the DHIS 2. While data elements represent the raw data (counts) being collected the indicators represent formulas providing coverage rates, incidence rates, ratios and other formula-based units of analysis. An indicator is made up of a factor (e.g. 1, 100, 100, 100 000), a numerator and a denominator, the two latter are both expressions based on one or more data elements. E.g. the indicator &quot;BCG coverage &lt;1 year&quot; is defined a formula with a factor 100, a numerator (&quot;BCG doses given to children under 1 year&quot;) and a denominator (&quot;Target population under 1 year&quot;). The indicator &quot;DPT1 to DPT3 drop out rate&quot; is a formula of 100 % x (&quot;DPT1 doses given&quot;- &quot;DPT3 doses given&quot;) / (&quot;DPT1 doses given&quot;).</para>
      <para>Most report modules in DHIS 2 support both data elements and indicators and you can also combine these in custom reports, but the important difference and strength of indicators versus raw data (data element&apos;s data values) is the ability to compare data across different geographical areas (e.g. highly populated vs rural areas) as the target population can be used in the denominator.</para>
      <para>Indicators can be added, modified and deleted at any point in time without interfering with the data values in the database.</para>
    </section>
    <section>
      <title>Tablas de reporte e informes</title>
      <para>Standard reports in DHIS 2 is a very flexible way of presenting the data that has been collected. Data can be aggregated by any organisational unit or orgunit level, by data element, by indicators, as well as over time (e.g. monthly, quarterly, yearly). The report tables are custom data sources for the standard reports and can be flexibly defined in the user interface and later accessed in external report designers such as iReport or BIRT. These report designs can then be set up as easily accessible one-click reports with parameters so that the users can run the same reports e.g. every month when new data is entered, and also be relevant to users at all levels as the organisational unit can be selected at the time of running the report.</para>
    </section>
    <section>
      <title>SIG (Mapas)</title>
      <para>In the integrated GIS module you can easily display your data on maps, both on polygons (areas) and as points (health facilities), and either as data elements or indicators. By providing the coordinates of your organisational units to the system you can qucikly get up to speed with this module. See the GIS section for details on how to get started.</para>
    </section>
    <section>
      <title>Gráficos y dashboard</title>
      <para>On of the easiest way to display your indicator data is through charts. An easy to use chart dialogue will guide you through the creation of various types of charts with data on indicators, organisational units and periods of your choice. These charts can easily be added to one of the four chart sections on your dashboard and there be made easily available right after log in. Make sure to set the dashboard module as the start module in user settings.</para>
    </section>
  </section>
</chapter>
